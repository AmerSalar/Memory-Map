<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Business Map</title>

    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.4.1/dist/MarkerCluster.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.4.1/dist/MarkerCluster.Default.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="header">
        <h1 class="logo" onclick="refresh()">Ameer</h1>
        <p class="message"></p>
        <button class="menu-btn btn">---</button>
    </div>
    <div class="map-cont" id="map"></div>
    <div class="popup-message">
        <p class="popup-text">Hey there</p>
        <textarea name="note" id="note" placeholder="Your note"></textarea>
        <div class="pin-colors-cont">
            <div class="red-check color-check"></div>
            <div class="green-check color-check"></div>
            <div class="blue-check color-check"></div>
        </div>
        <div class="popup-btns-cont">
           <button class="yes-btn btn">Yes</button>
           <button class="no-btn btn">No</button>
        </div>
    </div>
    <div class="popup-note">
        <button class="cancel-btn btn">Cancel</button>
        <p class="popup-note-p">My tea</p>
    </div>
    <div class="menu-cont">
        
    </div>
    <div class="footer">
        <div class="marker-btn btn off-btn">üìå</div>
        <div class="loading-icon"></div>
        <button class="locate-btn btn">Locate</button>
    </div>

    


    
    
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="https://unpkg.com/leaflet.markercluster@1.4.1/dist/leaflet.markercluster.js"></script>
    <script src="script.js"></script>
    <script type="module">
    // 1. Added getFirestore and the collection/doc tools you'll need later
    import { initializeApp } from "https://www.gstatic.com/firebasejs/12.8.0/firebase-app.js";
    import { getAnalytics } from "https://www.gstatic.com/firebasejs/12.8.0/firebase-analytics.js";
    import { getFirestore, collection, addDoc, getDocs, doc, deleteDoc } from "https://www.gstatic.com/firebasejs/12.8.0/firebase-firestore.js";

    const firebaseConfig = {
        apiKey: "AIzaSyB6f1kgrBT9Bsdj4ri6KOY_rnwA2eiDWEE",
        authDomain: "memorymap-ameer.firebaseapp.com",
        projectId: "memorymap-ameer",
        storageBucket: "memorymap-ameer.firebasestorage.app",
        messagingSenderId: "305904878472",
        appId: "1:305904878472:web:aef3892ee80b290d4f703d",
        measurementId: "G-1GVXMX5K6G"
    };

    // 2. Initialize the Engine
    const app = initializeApp(firebaseConfig);
    const analytics = getAnalytics(app);
    
    // 3. CREATE THE DB VARIABLE üõ°Ô∏è
    const db = getFirestore(app);

    // 4. THE BRIDGE: Export everything to the 'window'
    // This allows your separate script.js file to "see" these functions.
    window.db = db;
    window.collection = collection;
    window.addDoc = addDoc;
    window.getDocs = getDocs;
    window.doc = doc;
    window.deleteDoc = deleteDoc;

    console.log("Firebase & Firestore are ready! ‚òÅÔ∏è");
</script>
</body>
</html>